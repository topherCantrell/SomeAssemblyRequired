
<CPU title="6502 System" base="16">

  <!-- Early teachings will want the reader to single-step only
       thus the control to turn the run buttong off -->

  <!-- The more items visible in the memory viewer at once, the more
       memory and time it takes up thus the control to customize
       that here -->

  <Controls runButtonVisible="true" memoryViewerPageSize="16" strictMemoryDecode="true" 
     breakPoints="5"/>

  <!-- The processor is the 6502 --> 
  <Simulator class="CPU_6502"/>  

  <!-- Early teachings will only use a couple of the registers
       thus the ability to display only what we want here -->

  <RegisterViewer>
    <Register name="A"/>
    <Register name="X"/>
    <Register name="Y"/>
    <Separator/>
    <Register name="SP"/>
    <Register name="PC"/>
    <Register name="Flags"/>
    <BitRow>
      <Bit name="N" description="Negative"   map="Flags:7"/>
      <Bit name="O" description="Overflow"   map="Flags:6"/>
      <Bit name="-" description="ignored"    map="Flags:5"/>
      <Bit name="B" description="Break"      map="Flags:4"/>      
    </BitRow>
    <BitRow>      
      <Bit name="D" description="Decimal"    map="Flags:3"/>
      <Bit name="I" description="Interrupt"  map="Flags:2"/>
      <Bit name="Z" description="Zero"       map="Flags:1"/>
      <Bit name="C" description="Carry"      map="Flags:0"/>
    </BitRow>
  </RegisterViewer>  


  <!-- Instrument class="CPU_MemCopy"/ -->


  <!-- Here is the system hardware -->

  <Hardware class="CPU_ROM" address="0x5000" size="2048" file="035127.02"/>
  <Hardware class="CPU_RAM" address="0x4000" size="2048"/>

  <!-- 1K RAM at 0000 -->
  <Hardware class="CPU_RAM" address="0" size="1024"/>

  <!-- Main ROM ... ghosts to end of ROM for the vectors -->
  <Hardware class="CPU_ROM" address="0x6800" size="2048"/>
  <Hardware class="CPU_ROM" address="0x7000" size="2048"/>
  <Hardware class="CPU_ROM" address="0x7800" size="2048"/>
  <AddressDecodeGhost address="0xE800" size="6144" ghostTo="0x6800"/>

  <!-- Vector Graphics Engine -->
  <Hardware class="CPU_DVG" frameTitle="Vector Graphics"
     maxStackSize="4" 
     tracePrint="false"
     triggerAddress="0x3000" 
     mapTo="0x4000"
     width="1024" height="512" 
     xOffset="0" yOffset="-384"
     flipX="false" flipY="true" rotate="0"/>

  <!-- Inputs -->
  <Hardware class="CPU_InputPorts" frameTitle="Inputs">
    <Port name="IN0 (0x2000-0x2007)">
      <Bit number="7" active="high" name="-"                        address="0x2000"/>
      <Bit number="7" active="high" name="3K" editable="false"      address="0x2001"/>
      <Bit number="7" active="high" name="VG_HALT" editable="false" address="0x2002"/>
      <Bit number="7" active="high" name="B3"                       address="0x2003"/>
      <Bit number="7" active="high" name="B1"                       address="0x2004"/>
      <Bit number="7" active="high" name="Diag. Step"               address="0x2005"/>
      <Bit number="7" active="high" name="Tilt"                     address="0x2006"/>
      <Bit number="7" active="high" name="Service"                  address="0x2007"/>    
    </Port>
    <Port name="IN1 (0x2400-0x2407)">
      <Bit number="7" active="high" name="Coin 1"   address="0x2400"/>  
      <Bit number="7" active="high" name="Coin 2"   address="0x2401"/>  
      <Bit number="7" active="high" name="Coin 3"   address="0x2402"/>  
      <Bit number="7" active="high" name="Start 1"  address="0x2403"/>  
      <Bit number="7" active="high" name="Start 2"  address="0x2404"/>  
      <Bit number="7" active="high" name="B2"       address="0x2405"/>  
      <Bit number="7" active="high" name="Left"     address="0x2406"/>  
      <Bit number="7" active="high" name="Right"    address="0x2407"/>  
    </Port>
    <Port name="DSW (0x2800-0x2803)">
      <Bit number="0" active="high" name="Lang 0"   address="0x2800"/>   
      <Bit number="1" active="high" name="Lang 1"   address="0x2800"/>  
      <Bit number="0" active="high" name="Lives"    address="0x2801"/>  
      <Bit number="1" active="high" name="C/L Door" address="0x2801"/>  
      <Bit number="0" active="high" name="R Door 0" address="0x2802"/>  
      <Bit number="1" active="high" name="R Door 1" address="0x2802"/>  
      <Bit number="0" active="high" name="Credit 0" address="0x2803"/>  
      <Bit number="1" active="high" name="Credit 1" address="0x2804"/>      
    </Port>
  </Hardware>

<!--
DSW
  0 - Language (00=English, 01=German, 02=French, 03=Spanish)
  1 - Language
  2 - Lives (0=4, 1=3)
  3 - Center and left door mech (0=*1, 1=*2)
  4 - Right Mech (00=*1, 01=*4, 10=*5, 11=*6)
  5 - Right Mech
  6 - Credit (00=Free, 01=1C_2C, 10=1C_1C, 11=2C_1C)
  7 - Credit
-->

  <!-- Outputs we might want to see but don't model -->
  <Hardware class="CPU_OutputPorts" frameTitle="Outputs">
    <Port name="Misc">
      <Bit number="0" name="2 Player Lamp"     address="0x3200"/>
      <Bit number="1" name="1 Player Lamp"     address="0x3200"/>
      <Bit number="2" name="RAMSEL"            address="0x3200"/>
      <Bit number="3" name="Left Coin Count"   address="0x3200"/>
      <Bit number="4" name="Center Coin Count" address="0x3200"/>
      <Bit number="5" name="Right Coin Count"  address="0x3200"/>
      <Bit number="6" name="-"                 address="0x3200"/>
      <Bit number="7" name="-"                 address="0x3200"/>
    </Port>    
    <Port name="Misc Write Triggers">
      <Bit number="*" name="Watchdog" address="0x3400"/>    
      <Bit number="*" name="Explode"  address="0x3600"/>
      <Bit number="*" name="Thump"    address="0x3A00"/>
      <Bit number="*" name="Sound 0"  address="0x3C00"/>
      <Bit number="*" name="Sound 1"  address="0x3C01"/>
      <Bit number="*" name="Sound 2"  address="0x3C02"/>
      <Bit number="*" name="Sound 3"  address="0x3C03"/>
      <Bit number="*" name="Sound 4"  address="0x3C04"/>
      <Bit number="*" name="Sound 5"  address="0x3C05"/>
      <Bit number="*" name="Noise"    address="0x3E00"/>   
    </Port> 
  </Hardware>

  <!-- The 250Hz interrupt -->
  <Hardware class="CPU_Timer" tickPeriod="2000" interruptLevel="NMI"/>

  <!-- The 3KHz bit -->
  <Hardware class="CPU_Timer" tickPeriod="2400" address="0x2001" bit="7"/>



  

</CPU>
