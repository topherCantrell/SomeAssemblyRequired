



Temporaries ... 0x64 bytes at 0x1B1


01B1   1 if we got a noun but no verb and we prompted for a verb and will take just that


03FF   Stack


01BC   Param for object handling calls

01BA:   Characters in input buffer, token length, etc
01C6:01E4   Input buffer

01E7   ? input word            input object number
01E8   ? input word (??1st??)  action word
01E9   ? input word            action word data (upper 2 bits)
01EA   Rolls around error messages "WHAT?", "I DON'T KNOW THAT WORD.", "I DON'T UNDERSTAND.", and "I DON'T KNOW WHAT YOU MEAN."

01F0:1 ... object pointer in parse
01F2:3 ... pointer to current word in parse
1F8 ... word under test in parse
1B3 0 if nothing in buffer. 1 if something in buffer ... parse

01EB   InputLoopCounter ... incremented everytime a key is polled

112E   Room descriptor table 4-byte structure (one structure per room)
       Room numbers are base 1 
       2nd two ... command-script
 

188D   Object descriptor table 2-byte structure
       Object numbers are 1 based (subtract 1 to get address)
       AA BB
       If AA bit 7 is set, BB is the morphed value ... relook it up

Command functions are base 1
       
0A returned from unpacking means another packed message (starting with length) appears next. Continue unpacking and print there.

RoomCommands_1
  .DB 0x1, 0x3            ; N,NORTH
    .DB 0x1, 0x2          ;     MoveToRoomN  Room 2
  .DB 0x2, 0x3            ; E,EAST
    .DB 0x1, 0x3          ;     MoveToRoomN  Room 3
  .DB 0x3, 0x3            ; S,SOUTH
    .DB 0x1, 0x4          ;     MoveToRoomN  Room 4
  .DB 0x4, 0x3            ; W,WEST
    .DB 0x1, 0x5          ;     MoveToRoomN  Room 5
  .DB 0xb, 0x3            ; IN,INSIDE
    .DB 0x1, 0x2          ;     MoveToRoomN  Room 2
  .DB 0x0